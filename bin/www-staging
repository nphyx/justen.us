#!/usr/bin/env node
"use strict";

// Note: using staging server url, remove .testing() for production
var lex = require('letsencrypt-express').testing();
var app = require('../app');

lex.create({
  configDir: './letsencrypt.config',
  onRequest: app,
  approveRegistration: function (hostname, cb) {
    cb(null, {
      domains: [hostname],
      email: 'justen@.justen.us',
      agreeTos: true
    });
  }
}).listen([8080], [8443, 5001], function () {
  console.log("Justen.us Web Server Started");
});
